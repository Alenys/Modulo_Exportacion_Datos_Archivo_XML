<div class="page">
    
<div class="cuerpo">
    <div class="menusuperior">
    <div class="search-container">
    <label class="label1" for="search-input">Buscar:</label>
    <input id="search-input" type="text" class="form__field" (keyup)="filtrar($event)" placeholder="buscar">
</div>
</div>
<mat-expansion-panel (opened)="panelOpenState = true"
                   (closed)="panelOpenState = false" >
<mat-expansion-panel-header>
  <mat-panel-title>
    Filtrar
  </mat-panel-title>
 
</mat-expansion-panel-header>
<div class="body-panel">
    <div> <h4>Provincias</h4>
        <mat-form-field>
          <mat-label>Seleccione una provincia</mat-label>
          <mat-select (selectionChange)="filtarselect($event.value,'p')">
            <mat-option>-- None --</mat-option>
            <mat-option *ngFor="let provincia of provincias" [value]="provincia">
              {{provincia}}
            </mat-option>
          </mat-select>
        </mat-form-field></div>
   <div> <h4>Municipios</h4>
    <mat-form-field>
      <mat-label>Seleccione un municipio</mat-label>
      <mat-select  (selectionChange)="filtarselect($event.value,'m')">
        <mat-option>-- None --</mat-option>
        <mat-option *ngFor="let municipio of municipios" [value]="municipio">
          {{municipio}}
        </mat-option>
      </mat-select>
    </mat-form-field></div>
   <div> <h4>PreUniversitario</h4>
    <mat-form-field>
      <mat-label>Seleccione un PreUniversitario</mat-label>
      <mat-select (selectionChange)="filtarselect($event.value,'pre')">
        <mat-option>-- None --</mat-option>
        <mat-option *ngFor="let PreUniversitario of preuniversitario" [value]="PreUniversitario">
          {{PreUniversitario}}
        </mat-option>
      </mat-select>
    </mat-form-field></div>
   <div><h4>Nombre de la Carrera</h4>
    <mat-form-field>
      <mat-label>Seleccione una Carrera</mat-label>
      <mat-select (selectionChange)="filtarselect($event.value,'nom')">
        <mat-option>-- None --</mat-option>
        <mat-option *ngFor="let nombrecarrera of nombredelacarrera" [value]="nombrecarrera" >
          {{nombrecarrera}}
        </mat-option>
      </mat-select>
    </mat-form-field></div>
   <div>    <h4>Modalidades</h4>
    <mat-form-field>
      <mat-label>Seleccione una modalidad</mat-label>
      <mat-select (selectionChange)="filtarselect($event.value,'modal')">
        <mat-option>-- None --</mat-option>
        <mat-option *ngFor="let modalidad of modalidades" [value]="modalidad" >
          {{modalidad}}
        </mat-option>
      </mat-select>
    </mat-form-field></div>
   
    

</div>
</mat-expansion-panel>
<div class="mat-elevation-z8">
   
    <table mat-table [dataSource]="dataSource" matSort matSortActive="apellidos" matSortDisableClear matSortDirection="asc" class="mat-elevation-z8" >

        <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
                <mat-checkbox color="primary" (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">
                </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
                <mat-checkbox color="primary" (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
                </mat-checkbox>
            </td>
        </ng-container>

      

        <ng-container matColumnDef="apellidos" >
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Apellidos</th>
            <td mat-cell  *matCellDef="let element">{{element.apellidos}} </td>
        </ng-container>

        <ng-container matColumnDef="nombre">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
            <td mat-cell *matCellDef="let element">{{element.nombre}}</td>
        </ng-container>

        <ng-container matColumnDef="CI">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>CI</th>
            <td mat-cell  *matCellDef="let element">{{element.carnetIdentidad}}</td>
        </ng-container>
        <ng-container matColumnDef="Provincia">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Provincia</th>
            <td mat-cell  *matCellDef="let element">{{element.provincia}}</td>
        </ng-container>
        <ng-container matColumnDef="Municipio">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Municipio</th>
            <td mat-cell  *matCellDef="let element">{{element.municipio}}</td>
        </ng-container>
        <ng-container matColumnDef="IPU">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>IPU</th>
            <td mat-cell  *matCellDef="let element">{{element.preuniversitario}}</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="onRowClicked(row); $event.stopPropagation()" mat-selectable mat-selected [class.mat-selected]="selection.isSelected(row)"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
    </mat-paginator>

</div>

<button class="button-22"  (click)="onUpload( )"> Exportar</button>

</div>
</div>
