<div class="page">
    
    <div class="cuerpo">
        <div class="menusuperior">
        <div class="search-container">
        <label class="label1" for="search-input">Buscar:</label>
        <input id="search-input" type="text" class="form__field" (keyup)="filtrar($event)" placeholder="buscar">
    </div>
    </div>
    <mat-expansion-panel (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false" >
    <mat-expansion-panel-header>
      <mat-panel-title>
        Filtrar
      </mat-panel-title>
     
    </mat-expansion-panel-header>
    <div class="body-panel">
        <div> <h4>Provincias</h4>
            <mat-form-field>
              <mat-label>Seleccione una provincia</mat-label>
              <mat-select (selectionChange)="filtarselect($event.value,'p')">
                <mat-option>-- None --</mat-option>
                <mat-option *ngFor="let provincia of provincias" [value]="provincia">
                  {{provincia}}
                </mat-option>
              </mat-select>
            </mat-form-field></div>
       <div> <h4>Nombre</h4>
        <mat-form-field>
          <mat-label>Seleccione un Nombre</mat-label>
          <mat-select  (selectionChange)="filtarselect($event.value,'m')">
            <mat-option>-- None --</mat-option>
            <mat-option *ngFor="let nombre of Nombre" [value]="nombre">
              {{nombre}}
            </mat-option>
          </mat-select>
        </mat-form-field></div>
       <div> <h4>Nombre Corto</h4>
        <mat-form-field>
          <mat-label>Seleccione un NombreCorto</mat-label>
          <mat-select (selectionChange)="filtarselect($event.value,'pre')">
            <mat-option>-- None --</mat-option>
            <mat-option *ngFor="let nombrec of NombreCorto" [value]="nombrec">
              {{nombrec}}
            </mat-option>
          </mat-select>
        </mat-form-field></div>
       <div><h4>Codigo</h4>
        <mat-form-field>
          <mat-label>Seleccione un Codigo</mat-label>
          <mat-select (selectionChange)="filtarselect($event.value,'nom')">
            <mat-option>-- None --</mat-option>
            <mat-option *ngFor="let codigos of Codigo" [value]="codigos" >
              {{codigos}}
            </mat-option>
          </mat-select>
        </mat-form-field></div>
      
    </div>
    </mat-expansion-panel>
    <div class="mat-elevation-z8">
       
        <table mat-table [dataSource]="dataSource" matSort matSortActive="Nombre" matSortDirection="asc" class="mat-elevation-z8" matSortDisableClear>
    
            <ng-container matColumnDef="select">
                <th mat-header-cell *matHeaderCellDef>
                    <mat-checkbox color="primary" (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()" [indeterminate]="selection.hasValue() && !isAllSelected()">
                    </mat-checkbox>
                </th>
                <td mat-cell *matCellDef="let row">
                    <mat-checkbox color="primary" (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null" [checked]="selection.isSelected(row)">
                    </mat-checkbox>
                </td>
            </ng-container>
    
          
    
            <ng-container matColumnDef="Codigo" >
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Codigo</th>
                <td mat-cell *matCellDef="let element">{{element.Codigo}} </td>
            </ng-container>
    
            <ng-container matColumnDef="Nombre">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre</th>
                <td mat-cell *matCellDef="let element">{{element.Nombre}}</td>
            </ng-container>
    
            <ng-container matColumnDef="NombreCorto">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>NombreCorto</th>
                <td mat-cell *matCellDef="let element">{{element.Nombrecorto}}</td>
            </ng-container>
            <ng-container matColumnDef="Provincia">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Provincia</th>
                <td mat-cell  *matCellDef="let element">{{element.Provincia}}</td>
            </ng-container>
         
            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"  mat-selectable mat-selected [class.mat-selected]="selection.isSelected(row)"></tr>
        </table>
    
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements">
        </mat-paginator>
    
    </div>
    
    <button class="button-22"  (click)="onUpload( )"> Exportar</button>
  
    </div>
    </div>